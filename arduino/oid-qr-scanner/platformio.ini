; PlatformIO Project Configuration File
; BrainSAIT OID QR Code Scanner
;
; Build options: build_flags, src_filter
; Upload options: upload_port, upload_speed
; Library options: lib_deps, lib_dir

[platformio]
default_envs = esp32cam

; ============================================================
; ESP32-CAM (AI-Thinker) Configuration
; ============================================================
[env:esp32cam]
platform = espressif32
board = esp32cam
framework = arduino
monitor_speed = 115200
upload_speed = 460800

; Build flags
build_flags =
    -DBOARD_HAS_PSRAM
    -DUSE_ESP32_CAM=1
    -DCORE_DEBUG_LEVEL=1

; Dependencies
lib_deps =
    bblanchon/ArduinoJson@^6.21.4
    https://github.com/dlbeer/quirc.git

; Extra configurations
board_build.partitions = huge_app.csv
board_build.flash_mode = qio

; ============================================================
; ESP32 DevKit + GM65 Scanner Configuration
; ============================================================
[env:esp32-gm65]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 921600

build_flags =
    -DUSE_ESP32_CAM=0

lib_deps =
    bblanchon/ArduinoJson@^6.21.4

; ============================================================
; ESP32 DevKit + GM65 + OLED Display
; ============================================================
[env:esp32-gm65-oled]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 921600

build_flags =
    -DUSE_ESP32_CAM=0
    -DUSE_OLED_DISPLAY=1

lib_deps =
    bblanchon/ArduinoJson@^6.21.4
    adafruit/Adafruit SSD1306@^2.5.7
    adafruit/Adafruit GFX Library@^1.11.9

; ============================================================
; ESP32 DevKit + GM65 + LCD Display
; ============================================================
[env:esp32-gm65-lcd]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 921600

build_flags =
    -DUSE_ESP32_CAM=0
    -DUSE_LCD_DISPLAY=1

lib_deps =
    bblanchon/ArduinoJson@^6.21.4
    marcoschwartz/LiquidCrystal_I2C@^1.1.4

; ============================================================
; Common settings
; ============================================================
[env]
; Upload port (auto-detect or specify)
; upload_port = /dev/cu.usbserial-*
; upload_port = COM3

; OTA Update (optional)
; upload_protocol = espota
; upload_port = 192.168.1.100
; upload_flags =
;     --auth=YOUR_OTA_PASSWORD
